{"version":3,"sources":["circle/events.cljs"],"mappings":";AAQA,yDAAA,zDAACA,yJAEC,WAAKC,EAAEA;AAAP,AACEC;;AAGJ,yDAAA,zDAACF,2HAEC,0DAAA,1DAACG,2EACD,cAAAC,HAAKG;AAAL,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASJ;SAAT,AAAAK,4CAAAD,WAAA,IAAA,hEAAWG;AAAX,AACE,6BAAA,mFAAA,zGAACC,mBAASF,0JAAc,AAACG,6CAAK,AAAA,0FAAUH,IAAIC;;AAGhD,yDAAA,zDAACR,yIAEC,0DAAA,1DAACG,mFACD,cAAAQ,HAAKJ;AAAL,AAAA,IAAAK,aAAAD;QAAA,AAAAL,4CAAAM,WAAA,IAAA,/DAASX;SAAT,AAAAK,4CAAAM,WAAA,IAAA,hEAAWJ;AAAX,AACE,AAACK;;AACD,6BAAA,mFAAA,zGAACJ,mBAASF,oKAAoBC;;AAGlC,yDAAA,zDAACR,iJAEC,cAAAc,HAAKP;AAAL,AAAA,IAAAQ,aAAAD;QAAA,AAAAR,4CAAAS,WAAA,IAAA,/DAASd;iBAAT,AAAAK,4CAAAS,WAAA,IAAA,xEAAWC;WAAX,AAAAV,4CAAAS,WAAA,IAAA,lEAAkBE;AAAlB,AACE,wDAAA,jDAACC,8CAAMX,+DACA,AAACG,6CACC,+CAAA,WAAAS,1DAACC;AAAD,AACG,SAAK,AAACC,gDAAK,AAAA,6EAAAF,kBAAO,AAAA,6EAAIH,kBAAS,AAACK,gDAAK,AAAA,8EAAAF,kBAAO,AAAA,8EAAIH;GACjD,AAAA,0FAAUT,KACZ,yDAAA,zDAACW,8CAAMF,0DAAUC","names":["re_frame.core.reg_event_db","_","circle.db/default-db","day8.re_frame.undo.undoable","p__29210","vec__29211","cljs.core.nth","db","ci","cljs.core/assoc-in","cljs.core.conj","p__29214","vec__29215","circle.modal/modal-show","p__29219","vec__29220","circle","size","cljs.core.assoc","p1__29218#","cljs.core.filter","cljs.core.not_EQ_"],"sourcesContent":["(ns circle.events\n  (:require\n    [circle.db :as db]\n    [circle.modal :refer [modal-show]]\n    [day8.re-frame.undo :as undo :refer [undoable]]\n    [re-frame.core :as re-frame]))\n\n\n(re-frame/reg-event-db\n  ::initialize-db\n  (fn [_ _]\n    db/default-db))\n\n\n(re-frame/reg-event-db\n  :add-circle\n  (undoable \"Adding circle\")\n  (fn [db [_ ci]]\n    (assoc-in db [:circles] (conj (:circles db) ci))))\n\n\n(re-frame/reg-event-db\n  :set-active-circle\n  (undoable \"Setting active circle\")\n  (fn [db [_ ci]]\n    (modal-show)\n    (assoc-in db [:active-circle] ci)))\n\n\n(re-frame/reg-event-db\n  :active-circle-changed\n  (fn [db [_ circle size]]\n    (assoc db :circles\n           (conj\n             (filter\n               #(and (not= (:x %) (:x circle)) (not= (:y %) (:y circle)))\n               (:circles db))\n             (assoc circle :d size)))))\n"]}